/*
 * app.c
 *
 *  Created on: Jan 16, 2025
 *      Author: ch.lee
 */

#include "app.h"
uint16_t soundLUT[]={};

//장치 선언
extern TIM_HandleTypeDef htim1;

void setSound(uint16_t frequency){
	htim1.Instance-> ARR = 1000000/frequency -1;
	htim1.Instance-> CCR1 = htim1.Instance-> ARR/2;
	htim1.Instance-> CNT=0;
}

void stopSound(){
	htim1.Instance-> CCR1 = 0;
}

void app(){
	//타이머 시작
	HAL_TIM_PWM_Start(&htim1, TIM_CHANNEL_1);

	while(1){
		setSound(1000);
		HAL_Delay(500);
		setSound(500);
		HAL_Delay(500);
	}
}
