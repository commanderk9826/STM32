/*
 * app.c
 *
 *  Created on: Jan 16, 2025
 *      Author: ch.lee
 */
#include "app.h"
#include <math.h>

//장치 선언
extern TIM_HandleTypeDef htim1;

// time1의 duty 변경
void setDuty(uint8_t duty){
	htim1.Instance->CCR1=(duty-1)*10;
}


void app(){
	//타이머 장치 시작
	HAL_TIM_PWM_Start(&htim1, TIM_CHANNEL_1);
	while(1){
		static int angle=0;
		angle++;
		angle %=360;
		uint8_t valueSin = sin(angle * M_PI/180)*50 + 50;
		setDuty(valueSin);
		HAL_Delay(100);
	}


}
